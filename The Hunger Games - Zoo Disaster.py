#https://www.codewars.com/kata/5902bc7aba39542b4a00003d/train/python
who_eats_who=lambda z:(lambda f=[z],z=z.split(','),c=[-1],d={'antelope':['grass'],'big-fish':['little-fish'],'bug':['leaves'],'bear':['big-fish','bug','chicken','cow','leaves','sheep'],'chicken':['bug'],'cow':['grass'],'fox':['chicken','sheep'],'giraffe':['leaves'],'lion':['antelope','cow'],'panda':['leaves'],'sheep':['grass']}:[[*iter(lambda:False if c[0]+1>=len(z)else[c.__setitem__(0,c[0]+1),(lambda a=z[c[0]]:((lambda left_exists=c[0]-1>=0and z[c[0]-1]in d.get(a,[]),right_exists=c[0]+1<len(z)and z[c[0]+1]in d.get(a,[]):([f.append(f'{a} eats {z[c[0]-1]}'),z.pop(c[0]-1),c.__setitem__(0, -1)]if d[a].index(z[c[0]-1])<d[a].index(z[c[0]-1])else[f.append(f'{a} eats {z[c[0]+1]}'),z.pop(c[0]+1),f.append(f'{a} eats {z[c[0]-1]}'),z.pop(c[0]-1),c.__setitem__(0,-1)])if(left_exists and right_exists and not(d[a].index(z[c[0]-1])==d[a].index(z[c[0]-1])))else([[f.append(f'{a} eats {z[c[0]-1]}'),z.pop(c[0]-1),c.__setitem__(0,-1)]if left_exists else[f.append(f'{a} eats {z[c[0]+1]}'),z.pop(c[0]+1),c.__setitem__(0, -1)]if right_exists else None]))()))()][0],False)],f+[','.join(z)]][-1])()
